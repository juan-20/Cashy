{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programas\\\\NLW3\\\\web\\\\src\\\\pages\\\\CreateOrphanage.tsx\";\nimport React from \"react\";\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport { FiPlus } from \"react-icons/fi\";\nimport '../styles/pages/create-orphanage.css';\nimport Sidebar from \"../components/Sidebar\";\nimport mapIcon from \"../utils/mapIcon\";\nimport { useState } from \"react\";\nexport default function CreateOrphanage() {\n  const data = new FormData();\n  data.append('name', name);\n  data.append('about', about);\n  data.append('latitude', String(latitude));\n  data.append('longitude', String(longitude));\n  data.append('instruction', instructions);\n  data.append('opening_hours', opening_hours);\n  data.append('open_on_weekends', String(open_on_weekends));\n  images.forEach(image => {\n    data.append('images', image);\n  });\n  const [position, setPosition] = useState({\n    latitude: 0,\n    longitude: 0\n  }); // formulario:\n\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [opening_hours, setOpeningHours] = useState('');\n  const [open_on_weekends, setOpenonweekends] = useState(true);\n  const [images, setImages] = useState([]);\n  const [previewImages, setPreviewImages] = useState([]);\n\n  function handleMapClick(event) {\n    // console.log(event.latlng);\n    const {\n      lat,\n      lng\n    } = event.latlng;\n    setPosition({\n      latitude: lat,\n      longitude: lng\n    });\n  }\n\n  function handleSelectimages(event) {\n    if (!event.target.files) {\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files);\n    setImages(selectedImages);\n    const selectedImagesPreview = selectedImages.map(image => {\n      return URL.createObjectURL(image);\n    });\n    setPreviewImages(selectedImagesPreview); // console.log(event.target.files);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const {\n      latitude,\n      longitude\n    } = position;\n    console.log({\n      name,\n      about,\n      latitude,\n      longitude,\n      instructions,\n      opening_hours,\n      open_on_weekends\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-create-orphanage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"create-orphanage-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Dados\"), /*#__PURE__*/React.createElement(Map, {\n    center: [-19.9172987, -43.9345593],\n    style: {\n      width: '100%',\n      height: 280\n    },\n    zoom: 15,\n    onclick: handleMapClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TileLayer, {\n    url: `https://api.mapbox.com/styles/v1/mapbox/dark-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }), position.latitude != 0 // pra fazer um if que só vai fazer algo se for positivo e o else nada só coloar &&\n  &&\n  /*#__PURE__*/\n  React.createElement(Marker, {\n    interactive: false,\n    icon: mapIcon,\n    position: [position.latitude, position.longitude],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    value: name,\n    onChange: event => setName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, \"Sobre \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 44\n    }\n  }, \"M\\xE1ximo de 300 caracteres\")), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"name\",\n    maxLength: 300,\n    value: about,\n    onChange: event => setAbout(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"Fotos\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"images-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, previewImages.map(image => {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      alt: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image[]\",\n    className: \"new-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FiPlus, {\n    size: 24,\n    color: \"#15b6d6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    multiple: true,\n    onChange: handleSelectimages,\n    type: \"file\",\n    id: \"image[]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, \"Visita\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"instructions\",\n    value: instructions,\n    onChange: event => setInstructions(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"opening_hours\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, \"Hor\\xE1rio de funcionamento\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"opening_hours\",\n    value: opening_hours,\n    onChange: event => setOpeningHours(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"open_on_weekends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, \"Atende fim de semana\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: open_on_weekends ? 'active' : '',\n    onClick: () => setOpenonweekends(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, \"Sim\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: !open_on_weekends ? 'active' : '',\n    onClick: () => setOpenonweekends(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, \"N\\xE3o\")))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"confirm-button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, \"Confirmar\"))));\n} // return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;","map":{"version":3,"sources":["C:/Programas/NLW3/web/src/pages/CreateOrphanage.tsx"],"names":["React","Map","Marker","TileLayer","FiPlus","Sidebar","mapIcon","useState","CreateOrphanage","data","FormData","append","name","about","String","latitude","longitude","instructions","opening_hours","open_on_weekends","images","forEach","image","position","setPosition","setName","setAbout","setInstructions","setOpeningHours","setOpenonweekends","setImages","previewImages","setPreviewImages","handleMapClick","event","lat","lng","latlng","handleSelectimages","target","files","selectedImages","Array","from","selectedImagesPreview","map","URL","createObjectURL","handleSubmit","preventDefault","console","log","width","height","process","env","REACT_APP_MAPBOX_TOKEN","value"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, FormEvent } from \"react\";\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport { LeafletMouseEvent } from 'leaflet'\nimport {  FiPlus } from \"react-icons/fi\";\n\n\nimport '../styles/pages/create-orphanage.css';\n\nimport Sidebar from \"../components/Sidebar\";\nimport mapIcon from \"../utils/mapIcon\";\nimport { useState } from \"react\";\nimport e from \"express\";\nimport { strict } from \"assert\";\n\n\n\nexport default function CreateOrphanage() {\n\n  const data = new FormData();\n\n  data.append('name', name);\n  data.append('about', about);\n  data.append('latitude', String(latitude));\n  data.append('longitude', String(longitude));\n  data.append('instruction', instructions);\n  data.append('opening_hours', opening_hours);\n  data.append('open_on_weekends', String(open_on_weekends));\n\n  images.forEach(image => {\n    data.append('images', image);\n  })\n\n \n  const [position, setPosition] = useState({ latitude: 0, longitude: 0 })\n\n  // formulario:\n  const [name, setName]                          = useState('');\n  const [about, setAbout]                        = useState('');\n  const [instructions, setInstructions]          = useState('');\n  const [opening_hours, setOpeningHours]         = useState('');\n  const [open_on_weekends, setOpenonweekends]    = useState(true);\n  const [images, setImages]                      = useState<File[]>([]);\n  const [previewImages, setPreviewImages]        = useState<string[]>([]);\n\n\n  function handleMapClick(event: LeafletMouseEvent){\n    // console.log(event.latlng);\n    const {lat, lng} = event.latlng;\n\n    setPosition({\n      latitude: lat,\n      longitude: lng,\n\n    });\n  }\n\n  function handleSelectimages(event: ChangeEvent<HTMLInputElement>){\n    if (!event.target.files){\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files);\n    \n    setImages(selectedImages);\n\n     const selectedImagesPreview = selectedImages.map(image => {\n       return URL.createObjectURL(image);\n     });\n     \n     setPreviewImages(selectedImagesPreview);\n    \n    \n    // console.log(event.target.files);\n  }\n\n  function handleSubmit(event: FormEvent){\n    event.preventDefault();\n\n\n    const { latitude, longitude } = position;\n\n\n    console.log({\n      name,\n      about,\n      latitude, \n      longitude,\n      instructions,\n      opening_hours,\n      open_on_weekends,\n\n    })\n  }\n\n  return (\n    <div id=\"page-create-orphanage\">\n     \n      <Sidebar/>\n\n      <main>\n        <form className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <Map \n              center={[-19.9172987, -43.9345593]} \n              style={{ width: '100%', height: 280 }}\n              zoom={15}\n              onclick={handleMapClick}\n            >\n              <TileLayer \n                url={`https://api.mapbox.com/styles/v1/mapbox/dark-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n              />\n\n              { position.latitude != 0 \n              // pra fazer um if que só vai fazer algo se for positivo e o else nada só coloar &&\n              &&    (\n                     <Marker \n                     interactive={false} \n                     icon={mapIcon} \n                     position={[position.latitude, position.longitude ]} />\n               )}\n\n          </Map>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input id=\"name\"\n               value={name} onChange={event => setName(event.target.value)} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\n              <textarea id=\"name\" maxLength={300} \n               value={about} onChange={event => setAbout(event.target.value)}/>\n            </div>\n\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n\n                {previewImages.map(image =>{\n                  return (\n                    <img src={image} alt={name}/>\n                  )\n                })}\n\n              <label htmlFor=\"image[]\" className=\"new-image\">\n\n                    <FiPlus size={24} color=\"#15b6d6\" />\n                    \n              </label>\n             \n\n              </div>\n\n              <input multiple onChange= {handleSelectimages} type=\"file\" id=\"image[]\"/>\n             \n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea id=\"instructions\"\n               value={instructions} onChange={event => setInstructions(event.target.value)} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de funcionamento</label>\n              <input id=\"opening_hours\"\n               value={opening_hours} onChange={event => setOpeningHours(event.target.value)} />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button type=\"button\" \n                 className={open_on_weekends ? 'active' : ''}\n                 onClick= {() => setOpenonweekends(true)}>\n                  Sim\n                  </button>\n                <button type=\"button\"\n                className={!open_on_weekends ? 'active' : ''}\n                onClick= {() => setOpenonweekends(false)}>\n                  Não\n                  </button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n"]},"metadata":{},"sourceType":"module"}